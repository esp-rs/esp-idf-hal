<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief                       Set the maximum number of ops allowed to be executed by an interruptible function in a single call."><title>psa_interruptible_set_max_ops in esp_idf_hal::sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_<wbr>idf_<wbr>hal</a><span class="version">0.45.2</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In esp_<wbr>idf_<wbr>hal::<wbr>sys</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a></span><h1>Function <span class="fn">psa_interruptible_set_max_ops</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-7bacc267eb742aef/out/bindings.rs.html#37790">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn psa_interruptible_set_max_ops(max_ops: u32)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief                       Set the maximum number of ops allowed to be
executed by an interruptible function in a
single call.</p>
<p>\warning                     This is a beta API, and thus subject to change
at any point. It is not bound by the usual
interface stability promises.</p>
<p>\note                        The time taken to execute a single op is
implementation specific and depends on
software, hardware, the algorithm, key type and
curve chosen. Even within a single operation,
successive ops can take differing amounts of
time. The only guarantee is that lower values
for \p max_ops means functions will block for a
lesser maximum amount of time. The functions
\c psa_sign_interruptible_get_num_ops() and
\c psa_verify_interruptible_get_num_ops() are
provided to help with tuning this value.</p>
<p>\note                        This value defaults to
#PSA_INTERRUPTIBLE_MAX_OPS_UNLIMITED, which
means the whole operation will be done in one
go, regardless of the number of ops required.</p>
<p>\note                        If more ops are needed to complete a
computation, #PSA_OPERATION_INCOMPLETE will be
returned by the function performing the
computation. It is then the callerâ€™s
responsibility to either call again with the
same operation context until it returns 0 or an
error code; or to call the relevant abort
function if the answer is no longer required.</p>
<p>\note                        The interpretation of \p max_ops is also
implementation defined. On a hard real time
system, this can indicate a hard deadline, as a
real-time system needs a guarantee of not
spending more than X time, however care must be
taken in such an implementation to avoid the
situation whereby calls just return, not being
able to do any actual work within the allotted
time.  On a non-real-time system, the
implementation can be more relaxed, but again
whether this number should be interpreted as as
hard or soft limit or even whether a less than
or equals as regards to ops executed in a
single call is implementation defined.</p>
<p>\note                        For keys in local storage when no accelerator
driver applies, please see also the
documentation for \c mbedtls_ecp_set_max_ops(),
which is the internal implementation in these
cases.</p>
<p>\warning                     With implementations that interpret this number
as a hard limit, setting this number too small
may result in an infinite loop, whereby each
call results in immediate return with no ops
done (as there is not enough time to execute
any), and thus no result will ever be achieved.</p>
<p>\note                        This only applies to functions whose
documentation mentions they may return
#PSA_OPERATION_INCOMPLETE.</p>
<p>\param max_ops               The maximum number of ops to be executed in a
single call. This can be a number from 0 to
#PSA_INTERRUPTIBLE_MAX_OPS_UNLIMITED, where 0
is the least amount of work done per call.</p>
</div></details></section></div></main></body></html>