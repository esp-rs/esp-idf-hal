<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="@brief   Stop provisioning service"><title>wifi_prov_mgr_stop_provisioning in esp_idf_hal::sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_<wbr>idf_<wbr>hal</a><span class="version">0.45.2</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In esp_<wbr>idf_<wbr>hal::<wbr>sys</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a></span><h1>Function <span class="fn">wifi_prov_mgr_stop_provisioning</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-7bacc267eb742aef/out/bindings.rs.html#49548">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn wifi_prov_mgr_stop_provisioning()</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>@brief   Stop provisioning service</p>
<p>If provisioning service is active, this API will initiate a process to stop
the service and return. Once the service actually stops, the event WIFI_PROV_END
will be emitted.</p>
<p>If wifi_prov_mgr_deinit() is called without calling this API first, it will
automatically stop the provisioning service and emit the WIFI_PROV_END, followed
by WIFI_PROV_DEINIT, before returning.</p>
<p>This API will generally be used along with wifi_prov_mgr_disable_auto_stop()
in the scenario when the main application has registered its own endpoints,
and wishes that the provisioning service is stopped only when some protocomm
command from the client side application is received.</p>
<p>Calling this API inside an endpoint handler, with sufficient cleanup_delay,
will allow the response / acknowledgment to be sent successfully before the
underlying protocomm service is stopped.</p>
<p>Cleaup_delay is set when calling wifi_prov_mgr_disable_auto_stop().
If not specified, it defaults to 1000ms.</p>
<p>For straightforward cases, using this API is usually not necessary as
provisioning is stopped automatically once WIFI_PROV_CRED_SUCCESS is emitted.
Stopping is delayed (maximum 30 seconds) thus allowing the client side
application to query for Wi-Fi state, i.e. after receiving the first query
and sending <code>Wi-Fi state connected</code> response the service is stopped immediately.</p>
</div></details></section></div></main></body></html>