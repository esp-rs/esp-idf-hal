<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Waits for a direct to task notification on a particular index in the calling task’s notification array in a manner similar to taking a counting semaphore."><title>ulTaskGenericNotifyTake in esp_idf_hal::sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_<wbr>idf_<wbr>hal</a><span class="version">0.45.2</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In esp_<wbr>idf_<wbr>hal::<wbr>sys</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a></span><h1>Function <span class="fn">ulTaskGenericNotifyTake</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-7bacc267eb742aef/out/bindings.rs.html#13568-13572">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn ulTaskGenericNotifyTake(
    uxIndexToWaitOn: u32,
    xClearCountOnExit: i32,
    xTicksToWait: u32,
) -&gt; u32</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Waits for a direct to task notification on a particular index in the calling
task’s notification array in a manner similar to taking a counting semaphore.</p>
<p>See https://www.FreeRTOS.org/RTOS-task-notifications.html for details.</p>
<p>configUSE_TASK_NOTIFICATIONS must be undefined or defined as 1 for this
function to be available.</p>
<p>Each task has a private array of “notification values” (or ‘notifications’),
each of which is a 32-bit unsigned integer (uint32_t).  The constant
configTASK_NOTIFICATION_ARRAY_ENTRIES sets the number of indexes in the
array, and (for backward compatibility) defaults to 1 if left undefined.
Prior to FreeRTOS V10.4.0 there was only one notification value per task.</p>
<p>Events can be sent to a task using an intermediary object.  Examples of such
objects are queues, semaphores, mutexes and event groups.  Task notifications
are a method of sending an event directly to a task without the need for such
an intermediary object.</p>
<p>A notification sent to a task can optionally perform an action, such as
update, overwrite or increment one of the task’s notification values.  In
that way task notifications can be used to send data to a task, or be used as
light weight and fast binary or counting semaphores.</p>
<p>ulTaskNotifyTakeIndexed() is intended for use when a task notification is
used as a faster and lighter weight binary or counting semaphore alternative.
Actual FreeRTOS semaphores are taken using the xSemaphoreTake() API function,
the equivalent action that instead uses a task notification is
ulTaskNotifyTakeIndexed().</p>
<p>When a task is using its notification value as a binary or counting semaphore
other tasks should send notifications to it using the xTaskNotifyGiveIndexed()
macro, or xTaskNotifyIndex() function with the eAction parameter set to
eIncrement.</p>
<p>ulTaskNotifyTakeIndexed() can either clear the task’s notification value at
the array index specified by the uxIndexToWaitOn parameter to zero on exit,
in which case the notification value acts like a binary semaphore, or
decrement the notification value on exit, in which case the notification
value acts like a counting semaphore.</p>
<p>A task can use ulTaskNotifyTakeIndexed() to [optionally] block to wait for
a notification.  The task does not consume any CPU time while it is in the
Blocked state.</p>
<p>Where as xTaskNotifyWaitIndexed() will return when a notification is pending,
ulTaskNotifyTakeIndexed() will return when the task’s notification value is
not zero.</p>
<p><strong>NOTE</strong> Each notification within the array operates independently - a task
can only block on one notification within the array at a time and will not be
unblocked by a notification sent to any other array index.</p>
<p>Backward compatibility information:
Prior to FreeRTOS V10.4.0 each task had a single “notification value”, and
all task notification API functions operated on that value. Replacing the
single notification value with an array of notification values necessitated a
new set of API functions that could address specific notifications within the
array.  ulTaskNotifyTake() is the original API function, and remains backward
compatible by always operating on the notification value at index 0 in the
array. Calling ulTaskNotifyTake() is equivalent to calling
ulTaskNotifyTakeIndexed() with the uxIndexToWaitOn parameter set to 0.</p>
<p>@param uxIndexToWaitOn The index within the calling task’s array of
notification values on which the calling task will wait for a notification to
be non-zero.  uxIndexToWaitOn must be less than
configTASK_NOTIFICATION_ARRAY_ENTRIES.  xTaskNotifyTake() does
not have this parameter and always waits for notifications on index 0.</p>
<p>@param xClearCountOnExit if xClearCountOnExit is pdFALSE then the task’s
notification value is decremented when the function exits.  In this way the
notification value acts like a counting semaphore.  If xClearCountOnExit is
not pdFALSE then the task’s notification value is cleared to zero when the
function exits.  In this way the notification value acts like a binary
semaphore.</p>
<p>@param xTicksToWait The maximum amount of time that the task should wait in
the Blocked state for the task’s notification value to be greater than zero,
should the count not already be greater than zero when
ulTaskNotifyTake() was called.  The task will not consume any processing
time while it is in the Blocked state.  This is specified in kernel ticks,
the macro pdMS_TO_TICKS( value_in_ms ) can be used to convert a time
specified in milliseconds to a time specified in ticks.</p>
<p>@return The task’s notification count before it is either cleared to zero or
decremented (see the xClearCountOnExit parameter).</p>
<p>\ingroup TaskNotifications
/
/** @cond !DOC_EXCLUDE_HEADER_SECTION</p>
</div></details></section></div></main></body></html>