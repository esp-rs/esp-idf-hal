<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief          Save session structure as serialized data in a buffer. On client, this can be used for saving session data, potentially in non-volatile storage, for resuming later. On server, this can be used for alternative implementations of session cache or session tickets."><title>mbedtls_ssl_session_save in esp_idf_hal::sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_<wbr>idf_<wbr>hal</a><span class="version">0.45.2</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In esp_<wbr>idf_<wbr>hal::<wbr>sys</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a></span><h1>Function <span class="fn">mbedtls_ssl_session_save</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-7bacc267eb742aef/out/bindings.rs.html#43926-43931">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mbedtls_ssl_session_save(
    session: *const <a class="struct" href="struct.mbedtls_ssl_session.html" title="struct esp_idf_hal::sys::mbedtls_ssl_session">mbedtls_ssl_session</a>,
    buf: *mut u8,
    buf_len: usize,
    olen: *mut usize,
) -&gt; i32</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief          Save session structure as serialized data in a buffer.
On client, this can be used for saving session data,
potentially in non-volatile storage, for resuming later.
On server, this can be used for alternative implementations
of session cache or session tickets.</p>
<p>\see            mbedtls_ssl_session_load()</p>
<p>\param session  The session structure to be saved.
\param buf      The buffer to write the serialized data to. It must be a
writeable buffer of at least \p buf_len bytes, or may be \c
NULL if \p buf_len is \c 0.
\param buf_len  The number of bytes available for writing in \p buf.
\param olen     The size in bytes of the data that has been or would have
been written. It must point to a valid \c size_t.</p>
<p>\note           \p olen is updated to the correct value regardless of
whether \p buf_len was large enough. This makes it possible
to determine the necessary size by calling this function
with \p buf set to \c NULL and \p buf_len to \c 0.</p>
<p>\note           For TLS 1.3 sessions, this feature is supported only if the
MBEDTLS_SSL_SESSION_TICKETS configuration option is enabled,
as in TLS 1.3 session resumption is possible only with
tickets.</p>
<p>\return         \c 0 if successful.
\return         #MBEDTLS_ERR_SSL_BUFFER_TOO_SMALL if \p buf is too small.
\return         #MBEDTLS_ERR_SSL_FEATURE_UNAVAILABLE if the
MBEDTLS_SSL_SESSION_TICKETS configuration option is disabled
and the session is a TLS 1.3 session.</p>
</div></details></section></div></main></body></html>