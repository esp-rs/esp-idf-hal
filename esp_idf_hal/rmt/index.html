<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Remote Control (RMT) module driver."><title>esp_idf_hal::rmt - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_<wbr>idf_<wbr>hal</a><span class="version">0.45.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module rmt</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li><li><a href="#loading-pulses" title="Loading pulses">Loading pulses</a></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate esp_<wbr>idf_<wbr>hal</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">esp_idf_hal</a></span><h1>Module <span>rmt</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/esp_idf_hal/rmt.rs.html#1-1265">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Remote Control (RMT) module driver.</p>
<p>The RMT (Remote Control) module driver can be used to send infrared remote control
signals. Due to flexibility of RMT module, the driver can also be used to generate or receive
many other types of signals.</p>
<p>This module is an abstraction around the <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/rmt.html">IDF RMT</a>
implementation. It is recommended to read before using this module.</p>
<p>This is implementation currently supports transmission only.</p>
<p>Not supported:</p>
<ul>
<li>Interrupts.</li>
<li>Change of config after initialisation.</li>
</ul>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Prepare the config.
</span><span class="kw">let </span>config = Config::new().clock_divider(<span class="number">1</span>);

<span class="comment">// Retrieve the output pin and channel from peripherals.
</span><span class="kw">let </span>peripherals = Peripherals::take().unwrap();
<span class="kw">let </span>channel = peripherals.rmt.channel0;
<span class="kw">let </span>pin = peripherals.pins.gpio18;

<span class="comment">// Create an RMT transmitter.
</span><span class="kw">let </span>tx = TxRmtDriver::new(channel, pin, <span class="kw-2">&amp;</span>config)<span class="question-mark">?</span>;

<span class="comment">// Prepare signal pulse signal to be sent.
</span><span class="kw">let </span>low = Pulse::new(PinState::Low, PulseTicks::new(<span class="number">10</span>)<span class="question-mark">?</span>);
<span class="kw">let </span>high = Pulse::new(PinState::High, PulseTicks::new(<span class="number">10</span>)<span class="question-mark">?</span>);
<span class="kw">let </span><span class="kw-2">mut </span>signal = FixedLengthSignal::&lt;<span class="number">2</span>&gt;::new();
signal.set(<span class="number">0</span>, <span class="kw-2">&amp;</span>(low, high))<span class="question-mark">?</span>;
signal.set(<span class="number">1</span>, <span class="kw-2">&amp;</span>(high, low))<span class="question-mark">?</span>;

<span class="comment">// Transmit the signal.
</span>tx.start(signal)<span class="question-mark">?</span>;</code></pre></div>
<p>See the <code>examples/</code> folder of this repository for more.</p>
<h2 id="loading-pulses"><a class="doc-anchor" href="#loading-pulses">§</a>Loading pulses</h2>
<p>There are two ways of preparing pulse signal. <a href="struct.FixedLengthSignal.html" title="struct esp_idf_hal::rmt::FixedLengthSignal">FixedLengthSignal</a> and <a href="struct.VariableLengthSignal.html" title="struct esp_idf_hal::rmt::VariableLengthSignal">VariableLengthSignal</a>. These
implement the <a href="trait.Signal.html" title="trait esp_idf_hal::rmt::Signal">Signal</a> trait.</p>
<p><a href="struct.FixedLengthSignal.html" title="struct esp_idf_hal::rmt::FixedLengthSignal">FixedLengthSignal</a> lives on the stack and must have the items set in pairs of <a href="struct.Pulse.html" title="struct esp_idf_hal::rmt::Pulse">Pulse</a>s. This is
due to the internal implementation of RMT, and const generics limitations.</p>
<p><a href="struct.VariableLengthSignal.html" title="struct esp_idf_hal::rmt::VariableLengthSignal">VariableLengthSignal</a> allows you to use the heap and incrementally add pulse items without knowing the size
ahead of time.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="config/index.html" title="mod esp_idf_hal::rmt::config">config</a></div><div class="desc docblock-short">Types used for configuring the <a href="index.html" title="mod esp_idf_hal::rmt"><code>rmt</code></a> module.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CHANNEL0.html" title="struct esp_idf_hal::rmt::CHANNEL0">CHANNE<wbr>L0</a></div></li><li><div class="item-name"><a class="struct" href="struct.CHANNEL1.html" title="struct esp_idf_hal::rmt::CHANNEL1">CHANNE<wbr>L1</a></div></li><li><div class="item-name"><a class="struct" href="struct.CHANNEL2.html" title="struct esp_idf_hal::rmt::CHANNEL2">CHANNE<wbr>L2</a></div></li><li><div class="item-name"><a class="struct" href="struct.CHANNEL3.html" title="struct esp_idf_hal::rmt::CHANNEL3">CHANNE<wbr>L3</a></div></li><li><div class="item-name"><a class="struct" href="struct.FixedLengthSignal.html" title="struct esp_idf_hal::rmt::FixedLengthSignal">Fixed<wbr>Length<wbr>Signal</a></div><div class="desc docblock-short">Stack based signal storage for an RMT signal.</div></li><li><div class="item-name"><a class="struct" href="struct.Pulse.html" title="struct esp_idf_hal::rmt::Pulse">Pulse</a></div><div class="desc docblock-short">A <code>Pulse</code> contains a pin state and a tick count, used in creating a <a href="trait.Signal.html" title="trait esp_idf_hal::rmt::Signal"><code>Signal</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.PulseTicks.html" title="struct esp_idf_hal::rmt::PulseTicks">Pulse<wbr>Ticks</a></div><div class="desc docblock-short">Number of ticks, restricting the range to 0 to 32,767.</div></li><li><div class="item-name"><a class="struct" href="struct.RMT.html" title="struct esp_idf_hal::rmt::RMT">RMT</a></div></li><li><div class="item-name"><a class="struct" href="struct.Symbol.html" title="struct esp_idf_hal::rmt::Symbol">Symbol</a></div><div class="desc docblock-short">Symbols</div></li><li><div class="item-name"><a class="struct" href="struct.VariableLengthSignal.html" title="struct esp_idf_hal::rmt::VariableLengthSignal">Variable<wbr>Length<wbr>Signal</a></div><div class="desc docblock-short"><code>Vec</code> heap based storage for an RMT signal.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.PinState.html" title="enum esp_idf_hal::rmt::PinState">PinState</a></div><div class="desc docblock-short">A <code>Low</code> (0) or <code>High</code> (1) state for a pin.</div></li><li><div class="item-name"><a class="enum" href="enum.Receive.html" title="enum esp_idf_hal::rmt::Receive">Receive</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.RmtChannel.html" title="trait esp_idf_hal::rmt::RmtChannel">RmtChannel</a></div><div class="desc docblock-short">RMT peripheral channel.</div></li><li><div class="item-name"><a class="trait" href="trait.Signal.html" title="trait esp_idf_hal::rmt::Signal">Signal</a></div><div class="desc docblock-short">Signal storage for [<code>Transmit</code>] in a format ready for the RMT driver.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.duration_to_ticks.html" title="fn esp_idf_hal::rmt::duration_to_ticks">duration_<wbr>to_<wbr>ticks</a></div><div class="desc docblock-short">A utility to convert a duration into ticks, depending on the clock ticks.</div></li><li><div class="item-name"><a class="fn" href="fn.ticks_to_duration.html" title="fn esp_idf_hal::rmt::ticks_to_duration">ticks_<wbr>to_<wbr>duration</a></div><div class="desc docblock-short">A utility to convert ticks into duration, depending on the clock ticks.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.RmtReceiveConfig.html" title="type esp_idf_hal::rmt::RmtReceiveConfig">RmtReceive<wbr>Config</a></div></li><li><div class="item-name"><a class="type" href="type.RmtTransmitConfig.html" title="type esp_idf_hal::rmt::RmtTransmitConfig">RmtTransmit<wbr>Config</a></div></li><li><div class="item-name"><a class="type" href="type.RxRmtConfig.html" title="type esp_idf_hal::rmt::RxRmtConfig">RxRmt<wbr>Config</a></div></li><li><div class="item-name"><a class="type" href="type.TxRmtConfig.html" title="type esp_idf_hal::rmt::TxRmtConfig">TxRmt<wbr>Config</a></div></li></ul></section></div></main></body></html>