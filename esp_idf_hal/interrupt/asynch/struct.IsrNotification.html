<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Single-slot lock-free signaling primitive supporting signalling with a `u32` bit-set."><title>IsrNotification in esp_idf_hal::interrupt::asynch - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../esp_idf_hal/index.html">esp_<wbr>idf_<wbr>hal</a><span class="version">0.45.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">IsrNotification</a></h2><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.new" title="new">new</a></li><li><a href="#method.notify" title="notify">notify</a></li><li><a href="#method.notify_lsb" title="notify_lsb">notify_lsb</a></li><li><a href="#method.poll_wait" title="poll_wait">poll_wait</a></li><li><a href="#method.reset" title="reset">reset</a></li><li><a href="#method.wait" title="wait">wait</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-IsrNotification%3CN%3E" title="!Freeze">!Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-IsrNotification%3CN%3E" title="!RefUnwindSafe">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-IsrNotification%3CN%3E" title="!UnwindSafe">!UnwindSafe</a></li><li><a href="#impl-Send-for-IsrNotification%3CN%3E" title="Send">Send</a></li><li><a href="#impl-Sync-for-IsrNotification%3CN%3E" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-IsrNotification%3CN%3E" title="Unpin">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In esp_<wbr>idf_<wbr>hal::<wbr>interrupt::<wbr>asynch</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">esp_idf_hal</a>::<wbr><a href="../index.html">interrupt</a>::<wbr><a href="index.html">asynch</a></span><h1>Struct <span class="struct">IsrNotification</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/esp_idf_hal/interrupt.rs.html#522-525">Source</a> </span></div><pre class="rust item-decl"><code>pub struct IsrNotification&lt;const N: usize&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Single-slot lock-free signaling primitive supporting signalling with a <code>u32</code> bit-set.</p>
<p>A variation of the <code>Notification</code> HAL primitive which is however safe to be notified from an ISR context.</p>
<p>It is useful for sending data between an ISR routine (or a regular task context) and an async task when the
receiver only cares about the latest data, and therefore it’s fine to “lose” messages.
This is often the case for “state” updates.</p>
<p>The sending part of the primitive is non-blocking and ISR-safe, so it can be called from anywhere.</p>
<p>Similar in spirit to the ESP-IDF FreeRTOS task notifications in that it is light-weight and operates on bit-sets,
but for synchronization between an asynchronous task, and another one, which might be blocking or asynchronous.</p>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-IsrNotification%3CN%3E" class="impl"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#527-579">Source</a><a href="#impl-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#530-535">Source</a><h4 class="code-header">pub const fn <a href="#method.new" class="fn">new</a>(reactor: &amp;'static <a class="struct" href="struct.IsrReactor.html" title="struct esp_idf_hal::interrupt::asynch::IsrReactor">IsrReactor</a>&lt;N&gt;) -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new <code>IsrNotification</code>.
This method is safe to call from an ISR context, yet such use cases should not normally occur in practice.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.notify_lsb" class="method"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#540-542">Source</a><h4 class="code-header">pub fn <a href="#method.notify_lsb" class="fn">notify_lsb</a>(&amp;self) -&gt; bool</h4></section></summary><div class="docblock"><p>Marks the least significant bit (bit 0) in this <code>IsrNotification</code> as nofified.
This method is safe to call from an ISR context.
Returns <code>true</code> if there was a registered waker which got awoken.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.notify" class="method"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#547-555">Source</a><h4 class="code-header">pub fn <a href="#method.notify" class="fn">notify</a>(&amp;self, bits: NonZeroU32) -&gt; bool</h4></section></summary><div class="docblock"><p>Marks the supplied bits in this <code>IsrNotification</code> as notified.
This method is safe to call from an ISR context.
Returns <code>true</code> if there was a registered waker which got awoken.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.reset" class="method"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#559-561">Source</a><h4 class="code-header">pub fn <a href="#method.reset" class="fn">reset</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Clears the state of this notification by removing any registered waker and setting all bits to 0.
This method is NOT safe to call from an ISR context.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.wait" class="method"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#566-570">Source</a><h4 class="code-header">pub fn <a href="#method.wait" class="fn">wait</a>(&amp;self) -&gt; impl Future&lt;Output = NonZeroU32&gt; + '_</h4></section></summary><div class="docblock"><p>Future that completes when this <code>IsrNotification</code> has been notified.
This method is NOT safe to call from an ISR context.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.poll_wait" class="method"><a class="src rightside" href="../../../src/esp_idf_hal/interrupt.rs.html#574-578">Source</a><h4 class="code-header">pub fn <a href="#method.poll_wait" class="fn">poll_wait</a>(&amp;self, cx: &amp;Context&lt;'_&gt;) -&gt; Poll&lt;NonZeroU32&gt;</h4></section></summary><div class="docblock"><p>Non-blocking method to check whether this notification has been notified.
This method is NOT safe to call from an ISR context.</p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-IsrNotification%3CN%3E" class="impl"><a href="#impl-Freeze-for-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; !Freeze for <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section><section id="impl-RefUnwindSafe-for-IsrNotification%3CN%3E" class="impl"><a href="#impl-RefUnwindSafe-for-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; !RefUnwindSafe for <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section><section id="impl-Send-for-IsrNotification%3CN%3E" class="impl"><a href="#impl-Send-for-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; Send for <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section><section id="impl-Sync-for-IsrNotification%3CN%3E" class="impl"><a href="#impl-Sync-for-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; Sync for <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section><section id="impl-Unpin-for-IsrNotification%3CN%3E" class="impl"><a href="#impl-Unpin-for-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; Unpin for <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section><section id="impl-UnwindSafe-for-IsrNotification%3CN%3E" class="impl"><a href="#impl-UnwindSafe-for-IsrNotification%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const N: usize&gt; !UnwindSafe for <a class="struct" href="struct.IsrNotification.html" title="struct esp_idf_hal::interrupt::asynch::IsrNotification">IsrNotification</a>&lt;N&gt;</h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Any for T<div class="where">where
    T: 'static + ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a class="fn">type_id</a>(&amp;self) -&gt; TypeId</h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Borrow&lt;T&gt; for T<div class="where">where
    T: ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a class="fn">borrow</a>(&amp;self) -&gt; &amp;T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; BorrowMut&lt;T&gt; for T<div class="where">where
    T: ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a class="fn">borrow_mut</a>(&amp;mut self) -&gt; &amp;mut T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; From&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; Into&lt;U&gt; for T<div class="where">where
    U: From&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code>[From]&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; TryFrom&lt;U&gt; for T<div class="where">where
    U: Into&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Error</a> = Infallible</h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">try_from</a>(value: U) -&gt; Result&lt;T, &lt;T as TryFrom&lt;U&gt;&gt;::Error&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; TryInto&lt;U&gt; for T<div class="where">where
    U: TryFrom&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Error</a> = &lt;U as TryFrom&lt;T&gt;&gt;::Error</h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">try_into</a>(self) -&gt; Result&lt;U, &lt;U as TryFrom&lt;T&gt;&gt;::Error&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>