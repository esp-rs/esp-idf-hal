<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief            Parse a single DER formatted certificate and add it to the end of the provided chained list."><title>mbedtls_x509_crt_parse_der_with_ext_cb in esp_idf_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="esp_idf_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (8361aef0d 2025-01-14)" data-channel="nightly" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../esp_idf_sys/index.html">esp_<wbr>idf_<wbr>sys</a><span class="version">0.36.1</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">esp_idf_sys</a></span><h1>Function <span class="fn">mbedtls_x509_crt_parse_der_with_ext_cb</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-7bacc267eb742aef/out/bindings.rs.html#42801-42808">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mbedtls_x509_crt_parse_der_with_ext_cb(
    chain: *mut <a class="struct" href="struct.mbedtls_x509_crt.html" title="struct esp_idf_sys::mbedtls_x509_crt">mbedtls_x509_crt</a>,
    buf: *const c_uchar,
    buflen: usize,
    make_copy: c_int,
    cb: <a class="type" href="type.mbedtls_x509_crt_ext_cb_t.html" title="type esp_idf_sys::mbedtls_x509_crt_ext_cb_t">mbedtls_x509_crt_ext_cb_t</a>,
    p_ctx: *mut c_void,
) -&gt; c_int</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief            Parse a single DER formatted certificate and add it
to the end of the provided chained list.</p>
<p>\note             If #MBEDTLS_USE_PSA_CRYPTO is enabled, the PSA crypto
subsystem must have been initialized by calling
psa_crypto_init() before calling this function.</p>
<p>\param chain      The pointer to the start of the CRT chain to attach to.
When parsing the first CRT in a chain, this should point
to an instance of ::mbedtls_x509_crt initialized through
mbedtls_x509_crt_init().
\param buf        The buffer holding the DER encoded certificate.
\param buflen     The size in Bytes of \p buf.
\param make_copy  When not zero this function makes an internal copy of the
CRT buffer \p buf. In particular, \p buf may be destroyed
or reused after this call returns.
When zero this function avoids duplicating the CRT buffer
by taking temporary ownership thereof until the CRT
is destroyed (like mbedtls_x509_crt_parse_der_nocopy())
\param cb         A callback invoked for every unsupported certificate
extension.
\param p_ctx      An opaque context passed to the callback.</p>
<p>\note             This call is functionally equivalent to
mbedtls_x509_crt_parse_der(), and/or
mbedtls_x509_crt_parse_der_nocopy()
but it calls the callback with every unsupported
certificate extension and additionally the
“certificate policies” extension if it contains any
unsupported certificate policies.
The callback must return a negative error code if it
does not know how to handle such an extension.
When the callback fails to parse a critical extension
mbedtls_x509_crt_parse_der_with_ext_cb() also fails.
When the callback fails to parse a non critical extension
mbedtls_x509_crt_parse_der_with_ext_cb() simply skips
the extension and continues parsing.
Future versions of the library may invoke the callback
in other cases, if and when the need arises.</p>
<p>\return           \c 0 if successful.
\return           A negative error code on failure.</p>
</div></details></section></div></main></body></html>